(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{12:function(e,t,n){},23:function(e,t,n){e.exports=n(52)},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(21),c=n.n(o),i=(n(28),n(7)),s=n(22),l=n(3),u=n(4),d=n(5),m=n(9),f=n(8),b=n(10),p=(n(29),function(e){var t=e.imp,n=e.done;return r.a.createElement("div",{className:"title"},r.a.createElement("h1",null,"TodoList"),r.a.createElement("div",{className:"title_info"},r.a.createElement("p",null,t," important"),r.a.createElement("p",null,n," done")))}),h=(n(30),function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={term:""},n.onChange=function(e){var t=e.target.value;console.log(t),n.setState({term:t}),n.props.onSearchChange(t)},n}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"search_task"},r.a.createElement("input",{placeholder:"search task",value:this.state.term,onChange:this.onChange}))}}]),t}(r.a.Component)),v=n(2),E=(n(31),function(e){var t=e.errorText;return r.a.createElement("div",{className:"errorPlace"},t)}),g=(n(32),n(12),function(e){var t=e.taskId,n=e.taskText,o=e.onEdited,c=e.editShow,i=Object(a.useState)(n),s=Object(v.a)(i,2),l=s[0],u=s[1],d=Object(a.useState)(!1),m=Object(v.a)(d,2),f=m[0],b=m[1];return r.a.createElement("span",{className:"task edit_task"},r.a.createElement("form",{className:"edit_input",onSubmit:function(e){e.preventDefault(),l.length<3?b(!0):(o(t,l),u(""),b(!1),c(!1))}},r.a.createElement("input",{value:l,onChange:function(e){u(e.target.value),console.log(l)},autoFocus:!0}),r.a.createElement("button",{className:"task-button imp"},r.a.createElement("i",{className:"fa fa-check"})),f&&r.a.createElement(E,{errorText:"\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 3\u0445 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432*"})))}),k=function(e){var t=e.task,n=e.onDeleted,o=e.onEdit,c=e.id,i=e.impHandler,s=e.doneHandler,l=e.done,u=e.important,d=Object(a.useState)(!1),m=Object(v.a)(d,2),f=m[0],b=m[1],p="taskText",h="task",E="task-button";return l&&(p+=" done"),u&&(h+=" important",E+=" imp"),r.a.createElement("span",null,f||r.a.createElement("span",{className:h},r.a.createElement("span",{className:p,onClick:function(){s(c)}},t),r.a.createElement("span",{className:"task-buttons"},r.a.createElement("button",{className:E,onClick:function(){i(c)}},r.a.createElement("i",{className:"fa fa-exclamation"})),r.a.createElement("button",{className:E,onClick:function(){b(!0)}},r.a.createElement("i",{className:"fa fa-pen"})),r.a.createElement("button",{className:E,onClick:n},r.a.createElement("i",{className:"fa fa-trash"})))),f&&r.a.createElement(g,{taskId:c,taskText:t,onEdited:o,editShow:b}))},O=function(e){var t=e.info,n=e.onDeleted,a=e.onEdit,o=e.impHandler,c=e.doneHandler,i=t.map((function(e){var t=Object.assign({},e),i=e.id;return r.a.createElement("li",{key:i,className:""},r.a.createElement(k,Object.assign({},t,{onDeleted:function(){return n(i)},onEdit:a,impHandler:o,doneHandler:c})))}));return r.a.createElement("div",null,r.a.createElement("ul",null,i))},j=(n(33),function(e){var t=e.onAddItem,n=Object(a.useState)(""),o=Object(v.a)(n,2),c=o[0],i=o[1],s=Object(a.useState)(!1),l=Object(v.a)(s,2),u=l[0],d=l[1];return r.a.createElement("form",{className:"input_task",onSubmit:function(e){e.preventDefault(),c.length<3?d(!0):(t(c),i(""),d(!1))}},r.a.createElement("input",{type:"text",placeholder:"enter name of task",autoFocus:!0,onChange:function(e){i(e.target.value)},value:c}),r.a.createElement("button",{id:"addTask"},"Add Task"),u&&r.a.createElement(E,{errorText:"You need type 3 letters or more*"}))}),T=n(6),I=n.n(T),N=function(){function e(){Object(u.a)(this,e),this._apiBase="https://my-json-server.typicode.com/sinkrait00/dbJSON/db/"}return Object(d.a)(e,[{key:"getResourses",value:function(){return I.a.get(this._apiBase)}},{key:"createTask",value:function(e){return I.a.post(this._apiBase,e)}},{key:"edtiTask",value:function(e,t){return I.a.put(this._apiBase+e,t)}},{key:"deleteTask",value:function(e){return I.a.delete(this._apiBase+e)}}]),e}(),S=(n(51),function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(f.a)(t).call(this))).api=new N,e.globalId=100,e.state={db:[],term:""},e.deleteItem=function(t){e.setState((function(e){var n=e.db;console.log(t);var a=n.findIndex((function(e){return e.id===t}));return{db:[].concat(Object(l.a)(n.slice(0,a)),Object(l.a)(n.slice(a+1)))}}));var n=e.state.db.findIndex((function(e){return e.id===t}));e.api.deleteTask(n+1).then((function(e){return console.log(e.data)}))},e.addItem=function(t){var n={task:t,important:!1,done:!1,id:e.globalId++};e.setState((function(e){var t=e.db;return{db:[].concat(Object(l.a)(t),[n])}})),e.api.createTask(e.state.db[-1]).then((function(e){return console.log(e)}))},e.impToggle=function(t){e.setState((function(n){var a=n.db;return{db:e.editPropertys(a,t,"important")}}));var n=e.state.db.findIndex((function(e){return e.id===t}));console.log(n),console.log(e.state.db[n]),e.api.edtiTask(n+1,e.state.db[n]).then((function(e){return console.log(e.data)}))},e.doneToggle=function(t){e.setState((function(n){var a=n.db;return{db:e.editPropertys(a,t,"done")}}));var n=e.state.db.findIndex((function(e){return e.id===t}));console.log(n),console.log(e.state.db[n]),e.api.edtiTask(n+1,e.state.db[n]).then((function(e){return console.log(e.data)}))},e.editItemText=function(t,n){e.setState((function(e){var a=e.db,r=a.findIndex((function(e){return e.id===t})),o=a.find((function(e){return e.id===t}));return o.task=n,{db:[].concat(Object(l.a)(a.slice(0,r)),[o],Object(l.a)(a.slice(r+1)))}}));var a=e.state.db.findIndex((function(e){return e.id===t}));console.log(a),console.log(e.state.db[a]),e.api.edtiTask(a+1,e.state.db[a]).then((function(e){return console.log(e.data)}))},e.editPropertys=function(e,t,n){var a=e.findIndex((function(e){return e.id===t})),r=e[a],o=Object(s.a)({},r,Object(i.a)({},n,!r[n]));return[].concat(Object(l.a)(e.slice(0,a)),[o],Object(l.a)(e.slice(a+1)))},e.searchItem=function(e,t){return""===t?e:e.filter((function(e){return e.task.toLowerCase().indexOf(t.toLowerCase())>-1}))},e.onSearchChange=function(t){var n=t;e.setState({term:n})},e.updateTasks(),e}return Object(b.a)(t,e),Object(d.a)(t,[{key:"updateTasks",value:function(){var e=this;this.api.getResourses().then((function(t){e.setState((function(e){e.db;return{db:t.data.db}}))}))}},{key:"render",value:function(){var e=this.state,t=e.db,n=e.term,a=this.searchItem(t,n),o=t.filter((function(e){return e.important})).length,c=t.filter((function(e){return e.done})).length;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{id:"todoList"},r.a.createElement("div",{className:"header"},r.a.createElement(h,{onSearchChange:this.onSearchChange}),r.a.createElement(p,{imp:o,done:c})),r.a.createElement(O,{info:a,onDeleted:this.deleteItem,onEdit:this.editItemText,impHandler:this.impToggle,doneHandler:this.doneToggle}),r.a.createElement(j,{onAddItem:this.addItem})))}}]),t}(r.a.Component));c.a.render(r.a.createElement(S,null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.cddd4f95.chunk.js.map